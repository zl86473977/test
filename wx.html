<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="http://res.wx.qq.com/open/js/jweixin-1.6.0.js"></script>
	</head>
	<body>
		<div>测试打开小程序的链接</div>
		<wx-open-launch-weapp id="launch-btn" username="gh_2d4d21c644de" path="pages/index/index">
			<script type="text/wxtag-template">
				<style>.btn { padding: 12px }</style>
			    <button class="btn">打开小程序</button>
			  </script>
		</wx-open-launch-weapp>
	</body>
	<script type="text/javascript">
		// 调用后端接口拿到timestamp，nonceStr，signature
		wx.config({
			debug: true, // 开启调试模式,调用的所有 api 的返回值会在客户端 alert 出来，若要查看传入的参数，可以在 pc 端打开，参数信息会通过 log 打出，仅在 pc 端时才会打印
			appId: 'wxbce4af2181a13e44', // 必填，公众号的唯一标识
			timestamp: , // 必填，生成签名的时间戳
			nonceStr: '', // 必填，生成签名的随机串
			signature: '', // 必填，签名
			jsApiList: [], // 必填，需要使用的 JS 接口列表
			openTagList: ['wx-open-launch-weapp'] // 可选，需要使用的开放标签列表，例如['wx-open-launch-app']
		});
		wx.ready(function(res) {
			console.log('ready', res);
			// config信息验证后会执行 ready 方法，所有接口调用都必须在 config 接口获得结果之后，config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，则须把相关接口放在 ready 函数中调用来确保正确执行。对于用户触发时才调用的接口，则可以直接调用，不需要放在 ready 函数中
		});
		wx.error(function(err) {
			console.warn('wx.error', err);
			// config信息验证失败会执行 error 函数，如签名过期导致验证失败，具体错误信息可以打开 config 的debug模式查看，也可以在返回的 res 参数中查看，对于 SPA 可以在这里更新签名
		});


		var btn = document.getElementById('launch-btn');
		btn.addEventListener('launch', function(e) {
			console.log('success');
		});
		btn.addEventListener('error', function(e) {
			console.log('fail', e.detail);
		});
		
		
		
	</script>
</html>
